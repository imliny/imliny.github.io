(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-acaf22c0"],{"0b42":function(t,a,e){var i=e("da84"),o=e("e8b5"),r=e("68ee"),s=e("861d"),n=e("b622"),l=n("species"),p=i.Array;t.exports=function(t){var a;return o(t)&&(a=t.constructor,r(a)&&(a===p||o(a.prototype))?a=void 0:s(a)&&(a=a[l],null===a&&(a=void 0))),void 0===a?p:a}},"1dde":function(t,a,e){var i=e("d039"),o=e("b622"),r=e("2d00"),s=o("species");t.exports=function(t){return r>=51||!i((function(){var a=[],e=a.constructor={};return e[s]=function(){return{foo:1}},1!==a[t](Boolean).foo}))}},5178:function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticStyle:{width:"100%",height:"100%"}},[e("div",{ref:"chartBox",staticClass:"echart-box show"}),e("div",{staticClass:"tool-box"},[e("el-popover",{attrs:{placement:"right",width:"200",trigger:"click"}},[e("el-row",[e("el-col",{staticClass:"label-text",attrs:{span:10}},[t._v(" 数据类型： ")]),e("el-col",{attrs:{span:14}},[e("el-select",{staticStyle:{width:"120px"},attrs:{placeholder:"数据类型"},model:{value:t.dataType,callback:function(a){t.dataType=a},expression:"dataType"}},[e("el-option",{attrs:{label:"人口数据",value:"population"}}),e("el-option",{attrs:{label:"经济数据",value:"gdp"}}),e("el-option",{attrs:{label:"工资数据",value:"salary"}}),e("el-option",{attrs:{label:"房价数据",value:"house-price"}})],1)],1)],1),e("p"),e("el-row",[e("el-col",{staticClass:"label-text",attrs:{span:10}},[t._v(" 年份： ")]),e("el-col",{attrs:{span:14}},[e("el-select",{staticStyle:{width:"120px"},attrs:{placeholder:"数据年份"},model:{value:t.yearData,callback:function(a){t.yearData=a},expression:"yearData"}},t._l(t.dataList,(function(t,a){return e("el-option",{key:a,attrs:{label:a+2011,value:a+2011}})})),1)],1)],1),e("p"),e("el-row",[e("el-col",{staticClass:"label-text",attrs:{span:10}},[t._v(" 自动播放： ")]),e("el-col",{attrs:{span:14}},[e("el-switch",{model:{value:t.autoPlay,callback:function(a){t.autoPlay=a},expression:"autoPlay"}})],1)],1),e("sub",[t._v("数据来源于网络")]),e("i",{staticClass:"el-icon-s-tools",attrs:{slot:"reference"},slot:"reference"})],1)],1)])},o=[],r=e("e332"),s=r["a"],n=(e("d674"),e("2877")),l=Object(n["a"])(s,i,o,!1,null,null,null);a["default"]=l.exports},"65f0":function(t,a,e){var i=e("0b42");t.exports=function(t,a){return new(i(t))(0===a?0:a)}},7152:function(t,a,e){},b0c0:function(t,a,e){var i=e("83ab"),o=e("5e77").EXISTS,r=e("e330"),s=e("9bf2").f,n=Function.prototype,l=r(n.toString),p=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,c=r(p.exec),h="name";i&&!o&&s(n,h,{configurable:!0,get:function(){try{return c(p,l(this))[1]}catch(t){return""}}})},b727:function(t,a,e){var i=e("0366"),o=e("e330"),r=e("44ad"),s=e("7b0b"),n=e("07fa"),l=e("65f0"),p=o([].push),c=function(t){var a=1==t,e=2==t,o=3==t,c=4==t,h=6==t,u=7==t,_=5==t||h;return function(f,m,b,d){for(var y,v,O=s(f),x=r(O),D=i(m,b),g=n(x),w=0,C=d||l,E=a?C(f,g):e||u?C(f,0):void 0;g>w;w++)if((_||w in x)&&(y=x[w],v=D(y,w,O),t))if(a)E[w]=v;else if(v)switch(t){case 3:return!0;case 5:return y;case 6:return w;case 2:p(E,y)}else switch(t){case 4:return!1;case 7:p(E,y)}return h?-1:o||c?c:E}};t.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterReject:c(7)}},d674:function(t,a,e){"use strict";e("7152")},d81d:function(t,a,e){"use strict";var i=e("23e7"),o=e("b727").map,r=e("1dde"),s=r("map");i({target:"Array",proto:!0,forced:!s},{map:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},e332:function(module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("d81d"),core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("b0c0"),core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_1__);__webpack_exports__["a"]={name:"Chart",data:function(){return{dataList:[],visible:!1,dataType:"population",option:null,mapOption:null,barOption:null,chart:null,yearData:2020,autoPlay:!1,marks:{2011:"2011",2020:"2020"},timer:null}},methods:{initChart:function(t){var a=this;this.chart=this.$echarts.getInstanceByDom(this.$refs.chartBox),this.chart||(this.chart=this.$echarts.init(this.$refs.chartBox),this.$once("hook:beforeDestroy",(function(){a.$echarts.dispose(a.chart)}))),this.initOption(),this.setDataInfo(),this.$refs.chartBox.onclick=this.changeOption,window.addEventListener("resize",this.chart.resize)},initOption:function(){this.mapOption={title:{left:"center"},tooltip:{trigger:"item",backgroundColor:"rgba(50, 50, 50, 0.7)",borderWidth:0,textStyle:{color:"#ffffff"},hideDelay:0},visualMap:{text:["High","Low"],realtime:!1,calculable:!0,inRange:{color:["rgba(64,158,255,0.2)","rgba(64,158,255,0.6)","rgba(64,158,255,1)"]}},series:{id:"population",animationDurationUpdate:1e3,universalTransition:!0,map:"China",type:"map",aspectScale:1,selectedMode:"single",hoverable:!1,roam:!0,itemStyle:{normal:{borderWidth:1,borderColor:"rgba(100,100,100,0.1)",areaColor:"#fff",label:{show:!1,textStyle:{color:"#ffffff",fontSize:10}}},emphasis:{borderWidth:1,borderColor:"rgba(64,158,255,0.5)",areaColor:"rgba(64,158,255,1)",label:{show:!0,textStyle:{color:"#efefef"}}}}}},this.barOption={color:["rgba(64,158,255,0.5)"],title:{left:"center"},tooltip:{trigger:"item",backgroundColor:"rgba(50, 50, 50, 0.7)",borderWidth:0,textStyle:{color:"#ffffff"},hideDelay:0},xAxis:{type:"value",animationDuration:1e3,animationDurationUpdate:1e3},yAxis:{type:"category",axisLabel:{rotate:30,interval:0,textStyle:{color:"#6495ED",fontSize:10}},animationDuration:1e3,animationDurationUpdate:1e3},animationDurationUpdate:1e3,series:{type:"bar",id:"population",universalTransition:!0,label:{show:!0,color:"rgba(50,50,50,0.7)",position:"right",valueAnimation:!0,fontFamily:"monospace"}}},this.option=this.mapOption},changeOption:function(){this.option=this.option==this.mapOption?this.barOption:this.mapOption,this.chart.setOption(this.option,!0)},setYearData:function(){this.mapOption.title.subtext="地图  "+this.yearData+"年",this.barOption.title.subtext="柱状图  "+this.yearData+"年",this.mapOption.series.data=this.dataList[this.yearData-2011],this.barOption.yAxis.data=this.dataList[this.yearData-2011].map((function(t){return t.name})),this.barOption.series.data=this.dataList[this.yearData-2011].map((function(t){return t.value})),this.chart.setOption(this.option,!0)},setDataInfo:function setDataInfo(){var _this2=this;"population"==this.dataType?(this.mapOption.title.text=this.barOption.title.text="省份人口数据",this.mapOption.tooltip.formatter=this.barOption.tooltip.formatter="<b>{a}</b> <br/>{b} ： <i>{c} 万人</i>",this.mapOption.series.name=this.barOption.series.name="人口",this.mapOption.visualMap.max=1e4):"gdp"==this.dataType?(this.mapOption.title.text=this.barOption.title.text="省份经济数据",this.mapOption.tooltip.formatter=this.barOption.tooltip.formatter="<b>{a}</b> <br/>{b} ： <i>{c} 亿元</i>",this.mapOption.series.name=this.barOption.series.name="GDP",this.mapOption.visualMap.max=1e5):"salary"==this.dataType?(this.mapOption.title.text=this.barOption.title.text="省份工资数据",this.mapOption.tooltip.formatter=this.barOption.tooltip.formatter="<b>{a}</b> <br/>{b} ： <i>{c} 元</i>",this.mapOption.series.name=this.barOption.series.name="平均工资",this.mapOption.visualMap.min=3e4,this.mapOption.visualMap.max=12e4):"house-price"==this.dataType&&(this.mapOption.title.text=this.barOption.title.text="省份房价数据",this.mapOption.tooltip.formatter=this.barOption.tooltip.formatter="<b>{a}</b> <br/>{b} ： <i>{c} 元/m²</i>",this.mapOption.series.name=this.barOption.series.name="房价",this.mapOption.visualMap.min=3e3,this.mapOption.visualMap.max=15e3),this.$axios.get("/visualization/data/chart/"+this.dataType+".dat").then((function(resp){_this2.dataList=eval(resp.data),_this2.setYearData()}))},setTimer:function(){var t=this;this.autoPlay?this.timer=setInterval((function(){t.yearData=2020==t.yearData?2011:t.yearData+1}),2e3):(clearInterval(this.timer),this.timer=null)}},mounted:function(){var t=this;this.$echarts.getMap("China")?this.initChart():this.$axios.get("/visualization/map/china.json").then((function(a){t.$echarts.registerMap("China",a.data),t.initChart()})),this.$once("hook:beforeDestroy",(function(){t.timer&&clearInterval(t.timer)}))},watch:{yearData:function(){this.setYearData()},dataType:function(){this.setDataInfo()},autoPlay:function(){this.setTimer()}}}},e8b5:function(t,a,e){var i=e("c6b6");t.exports=Array.isArray||function(t){return"Array"==i(t)}}}]);
//# sourceMappingURL=chunk-acaf22c0.63e9a96c.js.map